(this.webpackJsonpkeyspeedtest=this.webpackJsonpkeyspeedtest||[]).push([[0],{14:function(e,t,s){e.exports={Restart__btn:"Restart_Restart__btn__2aE2N",Restart__btn_icon:"Restart_Restart__btn_icon__1fBux"}},15:function(e,t,s){e.exports={Overlay:"Overlay_Overlay__2LgAZ",active:"Overlay_active__iG1L1"}},25:function(e,t,s){e.exports={TextField:"TextField_TextField__1AVfC"}},27:function(e,t,s){e.exports={TypeTest:"TypeTest_TypeTest__3CSq1"}},32:function(e,t,s){},33:function(e,t,s){},36:function(e,t,s){},55:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),i=s(24),c=s.n(i),r=(s(32),s(33),s(3)),u=s(4),d=s.n(u),l=s(12),h=s(5),o=s(6),p=s(11),j=s(10),v=s(8),_=s.n(v),f=s(0),b=function(e){var t=[_.a.Char];return e.isCurrent&&t.push(_.a.Char__current),(e.isValid||e.isPassed)&&t.push(_.a.Char__valid),e.isCurrent&&!e.isValid&&t.push(_.a.Char__invalid),Object(f.jsx)("span",{className:t.join(" "),children:e.char})},x=s(25),m=s.n(x),O=function(e){Object(p.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(h.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={chars:[],loaded:!1,numPassedChar:0,currentChar:0,isTouched:!1,isFinished:!1},e}return Object(o.a)(s,[{key:"updateState",value:function(e){if(e.currentChar++,e.numPassedChar++,e.chars.length===e.numPassedChar)this.props.finishedTest(),document.removeEventListener("keydown",this),e.isFinished=!0;else{var t=e.currentChar;e.chars[t].isCurrent=!0,e.chars[t].isValid=!0,this.props.speedometer.updateSpeed(e.numPassedChar)}return e}},{key:"updateChar",value:function(e,t){return e?(t.isPassed=!0,t.isCurrent=!1,t.isValid=!0):t.isValid=!1,t.isTouched||t.isValid||this.props.updateAccuracy(),t.isTouched=!0,t}},{key:"runSpeedometer",value:function(e){return e.isTouched=!0,this.props.speedometer.run(),e}},{key:"handleEvent",value:function(e){switch(e.type){case"keydown":this.onKeyDown(e)}}},{key:"onKeyDown",value:function(e){e.preventDefault();var t=e.key;if("Shift"!==t&&"Escape"!==t){var s=this.state;s.isTouched||(s=this.runSpeedometer(s));var a=s.currentChar,n=s.chars[a],i=n.value===t;n=this.updateChar(i,n),i&&(s=this.updateState(s)),s.isFinished||(s.chars[a]=n,this.setState(Object(r.a)({},s)))}}},{key:"componentDidMount",value:function(){var e=this.props.text.split("").map((function(e){return{value:e,isPassed:!1,isValid:!1,isCurrent:!1,isTouched:!1}}));e[0].isCurrent=!0,e[0].isValid=!0,this.setState({chars:e,loaded:!0,stats:Object(r.a)({},this.props.stats)}),document.addEventListener("keydown",this)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this)}},{key:"render",value:function(){var e=Object(f.jsx)("div",{}),t=Object(f.jsx)("p",{className:m.a.TextField,children:this.state.chars.map((function(e,t){return Object(f.jsx)(b,{char:e.value,isPassed:e.isPassed,isCurrent:e.isCurrent,isValid:e.isValid},t)}))});return this.state.loaded&&(e=t),e}}]),s}(n.a.Component),y=s(7),C=s.n(y),k=function(e){return Object(f.jsxs)("ul",{className:C.a.StatField,children:[Object(f.jsxs)("li",{children:[Object(f.jsxs)("div",{className:C.a.StatField__iconWrapper,children:[Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.617 0-12 5.383-12 12s5.383 12 12 12 12-5.383 12-12-5.383-12-12-12zm8.021 9.593c-.141-.427-.314-.844-.516-1.242l-2.454 1.106c.217.393.39.81.517 1.242l2.453-1.106zm-12.573-.904c.271-.354.58-.674.919-.957l-1.89-1.968c-.328.294-.637.615-.918.957l1.889 1.968zm1.715-1.514c.379-.221.781-.396 1.198-.523l-1.034-2.569c-.41.142-.812.318-1.198.524l1.034 2.568zm-2.759 3.616c.121-.435.288-.854.498-1.25l-2.47-1.067c-.197.403-.364.823-.498 1.25l2.47 1.067zm9.434-6.2c-.387-.205-.79-.379-1.2-.519l-1.024 2.573c.417.125.82.299 1.2.519l1.024-2.573zm2.601 2.13c-.282-.342-.59-.664-.918-.957l-1.89 1.968c.339.283.647.604.918.957l1.89-1.968zm-5.791-3.059c-.219-.017-.437-.026-.649-.026s-.431.009-.65.026v2.784c.216-.025.434-.038.65-.038.216 0 .434.013.649.038v-2.784zm-.648 13.782c-1.294 0-2.343-1.049-2.343-2.343 0-.883.489-1.652 1.21-2.051l1.133-5.31 1.133 5.309c.722.399 1.21 1.168 1.21 2.051 0 1.295-1.049 2.344-2.343 2.344z"})}),Object(f.jsx)("p",{children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"})]}),Object(f.jsxs)("span",{className:C.a.StatField__text,children:[Object(f.jsx)("span",{children:e.stats.speed})," \u0437\u043d/\u043c\u0438\u043d"]})]}),Object(f.jsxs)("li",{children:[Object(f.jsxs)("div",{className:C.a.StatField__iconWrapper,children:[Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{d:"M6 12c0 2.206 1.794 4 4 4 1.761 0 3.242-1.151 3.775-2.734l2.224-1.291.001.025c0 3.314-2.686 6-6 6s-6-2.686-6-6 2.686-6 6-6c1.084 0 2.098.292 2.975.794l-2.21 1.283c-.248-.048-.503-.077-.765-.077-2.206 0-4 1.794-4 4zm4-2c-1.105 0-2 .896-2 2s.895 2 2 2 2-.896 2-2l-.002-.015 3.36-1.95c.976-.565 2.704-.336 3.711.159l4.931-2.863-3.158-1.569.169-3.632-4.945 2.87c-.07 1.121-.734 2.736-1.705 3.301l-3.383 1.964c-.29-.163-.621-.265-.978-.265zm7.995 1.911l.005.089c0 4.411-3.589 8-8 8s-8-3.589-8-8 3.589-8 8-8c1.475 0 2.853.408 4.041 1.107.334-.586.428-1.544.146-2.18-1.275-.589-2.69-.927-4.187-.927-5.523 0-10 4.477-10 10s4.477 10 10 10c5.233 0 9.521-4.021 9.957-9.142-.301-.483-1.066-1.061-1.962-.947z"})}),Object(f.jsx)("p",{children:"\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c"})]}),Object(f.jsxs)("span",{className:C.a.StatField__text,children:[Object(f.jsx)("span",{children:e.stats.accuracy}),"%"]})]})]})},w=s(14),S=s.n(w),T=function(e){return Object(f.jsxs)("button",{className:S.a.Restart__btn,type:"button","aria-label":"\u041d\u0430\u0447\u0430\u0442\u044c \u0442\u0435\u0441\u0442 \u0437\u0430\u043d\u043e\u0432\u043e",onClick:e.onClick,children:[Object(f.jsx)("svg",{className:S.a.Restart__btn_icon,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{d:"M13.5 2c-5.629 0-10.212 4.436-10.475 10h-3.025l4.537 5.917 4.463-5.917h-2.975c.26-3.902 3.508-7 7.475-7 4.136 0 7.5 3.364 7.5 7.5s-3.364 7.5-7.5 7.5c-2.381 0-4.502-1.119-5.876-2.854l-1.847 2.449c1.919 2.088 4.664 3.405 7.723 3.405 5.798 0 10.5-4.702 10.5-10.5s-4.702-10.5-10.5-10.5z"})}),"\u0417\u0430\u043d\u043e\u0432\u043e"]})},F=(s(36),function(e){return Object(f.jsxs)("div",{className:"lds-roller",children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{})]})}),g=s(9),N=s.n(g),R=function(e){var t=[N.a.TestResult];return e.isActive&&t.push(N.a.active),Object(f.jsxs)("div",{className:t.join(" "),children:[Object(f.jsx)("p",{className:N.a.TestResult__title,children:"You win!!!"}),Object(f.jsx)("p",{className:N.a.TestResult__result,children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b:"}),Object(f.jsx)(k,{stats:e.stats}),Object(f.jsx)(T,{onClick:function(){return e.reloaded()}})]})},z=s(15),A=s.n(z),P=function(e){var t=[A.a.Overlay];return e.isActive&&t.push(A.a.active),Object(f.jsx)("div",{className:t.join(" ")})},V={url:"https://baconipsum.com/api/",type:"meat-and-filler",paras:1,format:"text"},D=function(){var e=V.url+"?";for(var t in V)"url"!==t&&(e+=t+"="+V[t]+"&");return e.slice(0,-1)},I=function(){function e(){Object(h.a)(this,e),this._numKeys=0,this._speed=0}return Object(o.a)(e,[{key:"run",value:function(){var e=this;this._timeInit=new Date,this._intervalId=setInterval((function(){return e.calcSpeed()}),1e3)}},{key:"destruct",value:function(){clearInterval(this._intervalId)}},{key:"updateSpeed",value:function(e){this._numKeys=e}},{key:"calcSpeed",value:function(){var e=(new Date-this._timeInit)/1e3;this._speed=Math.floor(this._numKeys/e*60)}},{key:"speed",get:function(){return this._speed}}]),e}(),L=s(26),E=s.n(L),M=s(27),B=s.n(M),W=function(e){Object(p.a)(s,e);var t=Object(j.a)(s);function s(){var e;Object(h.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={loaded:!1,finished:!0,text:"",stats:{speed:Number,accuracy:Number,accDecrement:Number}},e}return Object(o.a)(s,[{key:"fetchText",value:function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get(D());case 3:t=e.sent,this.setState({text:t.data,stats:{speed:0,accuracy:100,accDecrement:(1/t.data.length*100).toFixed(1),keySpeedometer:new I},loaded:!0,finished:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchText(),setInterval((function(){return t.updateSpeed()}),1e3);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reloaded",value:function(){var e=Object(l.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state,s=t.stats.keySpeedometer,t.loaded=!1,this.setState(Object(r.a)({},t)),s.destruct(),this.fetchText();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateAccuracy",value:function(){var e=this.state,t=e.stats.accuracy;e.stats.accuracy=(t-e.stats.accDecrement).toFixed(1),this.setState(Object(r.a)({},e))}},{key:"updateSpeed",value:function(){var e=this.state,t=e.stats.keySpeedometer;e.stats.speed=t.speed,this.setState(Object(r.a)({},e))}},{key:"finishedTest",value:function(){var e=this.state;e.stats.keySpeedometer.destruct(),e.finished=!0,this.setState(Object(r.a)({},e))}},{key:"render",value:function(){var e=this,t=Object(f.jsx)(F,{}),s=Object(f.jsxs)("main",{className:B.a.TypeTest,children:[Object(f.jsx)(O,{text:this.state.text,updateAccuracy:this.updateAccuracy.bind(this),finishedTest:this.finishedTest.bind(this),speedometer:this.state.stats.keySpeedometer}),Object(f.jsx)(k,{stats:this.state.stats}),Object(f.jsx)(T,{onClick:function(){return e.reloaded()}}),Object(f.jsx)(R,{stats:this.state.stats,reloaded:function(){return e.reloaded()},isActive:this.state.finished}),Object(f.jsx)(P,{isActive:this.state.finished})]}),a=t;return this.state.loaded&&(a=s),a}}]),s}(n.a.Component);var K=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(W,{})})},J=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,56)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),i(e),c(e)}))};c.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(K,{})}),document.getElementById("root")),J()},7:function(e,t,s){e.exports={StatField:"StatField_StatField__2wodu",StatField__iconWrapper:"StatField_StatField__iconWrapper__Lrbdw",StatField__text:"StatField_StatField__text__2aWnI"}},8:function(e,t,s){e.exports={Char:"Char_Char__1OnaR",Char__valid:"Char_Char__valid__2LNxC",Char__invalid:"Char_Char__invalid__3MEVj",Char__current:"Char_Char__current__1OHA8"}},9:function(e,t,s){e.exports={TestResult:"TestResult_TestResult__28-sR",active:"TestResult_active__tPSYO",TestResult__title:"TestResult_TestResult__title__2h3Bz"}}},[[55,1,2]]]);
//# sourceMappingURL=main.290e3f70.chunk.js.map